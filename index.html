<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="//userapi.com/js/api/openapi.js" type="text/javascript" charset="windows-1251"></script>
</head>
<body>
<script type="text/javascript">
    VK.init({
        apiId: 6142437
    });
</script>

<div id="vk_auth"></div>
<script type="text/javascript">
    VK.Widgets.Auth('vk_auth', {
        width: 300,
        onAuth: function (data) {
            console.log(data);

            var url = 'https://oauth.vk.com/authorize?client_id=6142437&scope=4&display=mobile&redirect_uri=https://oauth.vk.com/blank.html&response_type=token';

//            window.location.href = url;
//            return;

            var newWin = window.open(url, 'vk-login', 'width=300,height=180')
            newWin.onload = function() {
                var hash = newWin.location.hash
                console.log(hash)
            }
        }
    });
</script>
</body>
</html>